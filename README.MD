## О проекте
Fraud Detector - сервис для работы операторов банка. Умеет определять мошеннические транзакции и рассылать уведомления операторам через Telegram бота.
*диаграммы находятся в папке dev

## Запуск проекта  
Для запуска проекта нужно в корневой папке ввести команду:
```docker-compose up```
*Для запуска Telegram бота нужно получить токен в BotFather и вставить его в соответствующую переменную в bot/vars.py

## Об архитектуре
- VueJS - фронтенд-фреймворк, позволяет разработать современный реактивный интерфейс с технологией SPA.
- Django - бэкенд-фреймворк, позволяет быстро разработать безопасное веб-приложение.
- Django REST Framework - фреймворк для разработки REST API, позволяет пользоваться сериализаторами, упрощает работу с API.
- DRF Spectacular (Swagger) - инструмент для работы с динамической документацией API.
- TelegramBotAPI - API позволяющее работать с ботамми Telegram.
- SQLite3 - лёгкая, встраиваемая база данных, в перспективе заменяется на PostgreSQL/MySQL.
- Nginx - веб-сервер, позволяющий запускать сервер и распределять нагрузку.

## REST API
Динамическая документация Swagger доступна по адресу https://localhost:8000/api/schema. #не доработано

- /auth
POST: на сервер передаются логин и пароль для авторизации.
Поля: login, password.

- /reg
POST: на сервер передаются логин и пароль для регистрации.
Поля: login, password.

- /transactions
GET: передаётся список транзакций из базы.

- /transaction
DELETE: транзакция удаляется из базы подозрительных транзакций по id.
PATCH: изменяется статус жалобы по id.
Поля: id.

- /complaints
GET: передаётся список жалоб из базы.

- /complaint
DELETE: жалоба удаляется из базы по id.
PATCH: изменяется статус жалобы по id.
Поля: id.

- /dashboard
GET: с сервера передаются необходимые для работа дашборда данные.

- /bot/<int:chat_id>
GET: добавлется chat_id в список чатов.

## Telegram Bot
Для начала работы с ботом нужно ввести команду /start. Бот выведет chat_id, который добавляется в список с помощью запроса API по адресу https://localhost:8000/bot/<chat_id>. Можно добавлять неограниченное количество чатов, бот будет присылать уведомления во все указанные чаты.

Уведомления приходят в двух случаях:
1. Пользователь написал жалобу.
2. Появилась мошенническая транзакция.
Отправка уведомлений происходит с помощью библиотеки requests, которая обращается к Telegram API для отправки сообщений.

## Алгоритм выявления аномалий
Выявляем подозрительные транзакции с помощью запросов к базе данных по следующим признакам:
1. Чрезмерно большая сумма перевода.
2. Большое количество переводов по разным счетам.
3. Малый промежуток между зачислением и списанием средств.

"Лишь прочитав readme до конца, мы обретаем свободу."©